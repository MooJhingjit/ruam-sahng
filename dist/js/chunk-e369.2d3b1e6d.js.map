{"version":3,"sources":["webpack:///./src/Views/Schedule/index.vue?4d31","webpack:///src/Views/Schedule/index.vue","webpack:///./src/Views/Schedule/index.vue?d43c","webpack:///./src/Views/Schedule/index.vue","webpack:///./src/Views/Schedule/index.vue?c2cf"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","local","isPause","attrs","aria-hidden","on","click","$event","switchStatus","_v","_s","currentPage","pageCount","totalProducts","_m","TASKSTATUS","GO_TOPAGE","_l","obj","key","_id","task","index","class","getItemClass","header","jobCode","productName","cusName","GET_DATE","dateStart","dateEnd","status","_e","staticRenderFns","width","Schedulevue_type_script_lang_js_","props","components","name","data","products","currentProductObj","rows","time","timer","tmp","productStore","computed","length","Math","ceil","created","main","$on","fetchData","methods","_fetchData","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","runSchedule","resourceName","res","_args","arguments","wrap","_context","prev","next","undefined","concat","app_config","api","schedule","app_service","getResource","queryString","sent","config","parseInt","common_helpers","COPY_OBJECT","result","t0","stop","apply","self","recheckProductLists","slice","setInterval","start","end","addProductEvent","removeProductEvent","stopRunnigSchedule","clearInterval","item-name","bg-success","bg-error","IS_LATE","bg-gray","isDisable","","beforeDestroy","$off","Views_Schedulevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_dbe60252_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_dbe60252_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-e369.2d3b1e6d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"p-2\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column text-left\"},[_c('h5',{staticClass:\"text-bold text-primary\"},[[(!_vm.local.isPause)?_c('i',{staticClass:\"fa fa-pause text-gray c-hand\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){_vm.switchStatus(true)}}}):_c('i',{staticClass:\"fa fa-play text-gray c-hand\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){_vm.switchStatus(false)}}})],_vm._v(\"\\n        \"+_vm._s(_vm.local.currentPage)+\" / \"+_vm._s(_vm.pageCount)+\" จาก \"+_vm._s(_vm.totalProducts)+\" งาน\\n      \")],2)]),_vm._m(0),_c('div',{staticClass:\"column text-right\"},[_c('span',{staticClass:\"label\"},[_c('i',{staticClass:\"fa fa fa-clock-o h5\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.TASKSTATUS['wait']))]),_c('span',{staticClass:\"label\"},[_c('i',{staticClass:\"fa fa-circle-o h5\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.TASKSTATUS['ip']))]),_c('span',{staticClass:\"label\"},[_c('i',{staticClass:\"fa fa-check-circle-o h5 text-success\"}),_vm._v(\" \"+_vm._s(_vm.TASKSTATUS['done']))]),_vm._v(\"\\n       \\n      \"),_c('i',{staticClass:\"fa fa-sign-out text-gray c-hand\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){_vm.GO_TOPAGE('Product')}}})])]),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('table',{staticClass:\"table\"},[_vm._m(1),_c('tbody',_vm._l((_vm.products),function(obj){return _c('tr',{key:obj._id},_vm._l((obj.tasks),function(task,index){return _c('td',{key:index,class:_vm.getItemClass(obj, task)},[(task.key === 'itemName')?[_c('div',{staticClass:\"text-bold\"},[_vm._v(_vm._s(obj.header.jobCode)+\" / \"+_vm._s(obj.header.productName))]),_c('div',{staticClass:\"text-bold\"},[_vm._v(_vm._s(obj.header.cusName))]),_c('div',[_vm._v(_vm._s(_vm.GET_DATE(task.dateStart))+\" - \"+_vm._s(_vm.GET_DATE(task.dateEnd)))])]:[(task.isDisable)?[_vm._m(2,true)]:(task.status === 'ip')?[_c('div',[_c('i',{class:['fa fa-circle-o h4'],attrs:{\"aria-hidden\":\"true\"}})]),_c('div',[_vm._v(_vm._s(_vm.GET_DATE(task.dateStart)))]),_c('div',[_vm._v(\"กำลังดำเนินงาน..\")])]:(task.status === 'wait')?[_vm._m(3,true)]:(task.status === 'done')?[_c('div',[_c('i',{class:['fa fa-check-circle h4 text-success'],attrs:{\"aria-hidden\":\"true\"}})]),_c('div',[_vm._v(_vm._s(_vm.GET_DATE(task.dateStart)))]),_c('div',[_vm._v(_vm._s(_vm.GET_DATE(task.dateEnd)))])]:_vm._e()]],2)}))}))])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column text-center\"},[_c('h5')])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"h5 text-bold text-center text-primary\",attrs:{\"width\":\"\"}}),_c('th',{staticClass:\"h5 text-bold text-center text-primary\",attrs:{\"width\":\"120\"}},[_vm._v(\"สเปคงาน\")]),_c('th',{staticClass:\"h5 text-bold text-center text-primary\",attrs:{\"width\":\"120\"}},[_vm._v(\"แบบ\")]),_c('th',{staticClass:\"h5 text-bold text-center text-primary\",attrs:{\"width\":\"120\"}},[_vm._v(\"ตัด\")]),_c('th',{staticClass:\"h5 text-bold text-center text-primary\",attrs:{\"width\":\"120\"}},[_vm._v(\"พันท์\")]),_c('th',{staticClass:\"h5 text-bold text-center text-primary\",attrs:{\"width\":\"120\"}},[_vm._v(\"พับ\")]),_c('th',{staticClass:\"h5 text-bold text-center text-primary\",attrs:{\"width\":\"120\"}},[_vm._v(\"เชื่อม\")]),_c('th',{staticClass:\"h5 text-bold text-center text-primary\",attrs:{\"width\":\"120\"}},[_vm._v(\"พ่นสี\")]),_c('th',{staticClass:\"h5 text-bold text-center text-primary\",attrs:{\"width\":\"120\"}},[_vm._v(\"ประกอบ\")]),_c('th',{staticClass:\"h5 text-bold text-center text-primary\",attrs:{\"width\":\"120\"}},[_vm._v(\"อุปกรณ์\")]),_c('th',{staticClass:\"h5 text-bold text-center text-primary\",attrs:{\"width\":\"120\"}},[_vm._v(\"วายริ่ง\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('i',{staticClass:\"fa fa-times-circle-o h1 text-gray\",attrs:{\"aria-hidden\":\"true\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('i',{staticClass:\"fa fa fa-clock-o h1 text-gray\",attrs:{\"aria-hidden\":\"true\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"p-2\">\n    <div class=\"columns\">\n      <div class=\"column text-left\">\n        <h5 class=\"text-bold text-primary\">\n          <template>\n            <i class=\"fa fa-pause text-gray c-hand\" v-if=\"!local.isPause\" aria-hidden=\"true\" @click=\"switchStatus(true)\"></i>\n            <i class=\"fa fa-play text-gray c-hand\" v-else aria-hidden=\"true\" @click=\"switchStatus(false)\"></i>\n          </template>\n          <!-- <i class=\"fa fa-sign-out text-gray c-hand\" aria-hidden=\"true\" @click=\"GO_TOPAGE('Product')\"></i> -->\n          {{local.currentPage}} / {{pageCount}} จาก {{totalProducts}} งาน\n        </h5>\n      </div>\n      <div class=\"column text-center\">\n       <h5> </h5>\n      </div>\n      <div class=\"column text-right\">\n        \n        <!-- <span class=\"\"><h6></h6></span>&nbsp; -->\n        <span class=\"label\"><i class=\"fa fa fa-clock-o h5\" aria-hidden=\"true\"></i> {{TASKSTATUS['wait']}}</span>\n        <span class=\"label\"><i class=\"fa fa-circle-o h5\" aria-hidden=\"true\"></i> {{TASKSTATUS['ip']}}</span>\n        <span class=\"label\"><i class=\"fa fa-check-circle-o h5 text-success\"></i> {{TASKSTATUS['done']}}</span>\n        &nbsp;\n        <i class=\"fa fa-sign-out text-gray c-hand\" aria-hidden=\"true\" @click=\"GO_TOPAGE('Product')\"></i>\n      </div>\n    </div>\n    <div class=\"columns\">\n      <div class=\"column\">\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th class=\"h5 text-bold text-center text-primary\" width=\"\"></th>\n              <th class=\"h5 text-bold text-center text-primary\" width=\"120\">สเปคงาน</th>\n              <th class=\"h5 text-bold text-center text-primary\" width=\"120\">แบบ</th>\n              <th class=\"h5 text-bold text-center text-primary\" width=\"120\">ตัด</th>\n              <th class=\"h5 text-bold text-center text-primary\" width=\"120\">พันท์</th>\n              <th class=\"h5 text-bold text-center text-primary\" width=\"120\">พับ</th>\n              <th class=\"h5 text-bold text-center text-primary\" width=\"120\">เชื่อม</th>\n              <th class=\"h5 text-bold text-center text-primary\" width=\"120\">พ่นสี</th>\n              <th class=\"h5 text-bold text-center text-primary\" width=\"120\">ประกอบ</th>\n              <th class=\"h5 text-bold text-center text-primary\" width=\"120\">อุปกรณ์</th>\n              <th class=\"h5 text-bold text-center text-primary\" width=\"120\">วายริ่ง</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr class=\"\" :key=\"obj._id\" v-for=\"(obj) in products\">\n              <td\n              :class=\"getItemClass(obj, task)\"\n              :key=\"index\" v-for=\"(task, index) in obj.tasks\">\n                <template v-if=\"task.key === 'itemName'\">\n                  <div class=\"text-bold\">{{obj.header.jobCode}} / {{obj.header.productName}}</div>\n                  <!-- <div class=\"text-bold\"></div> -->\n                  <div class=\"text-bold\">{{obj.header.cusName}}</div>\n                  <div>{{GET_DATE(task.dateStart)}} - {{GET_DATE(task.dateEnd)}}</div>\n                </template>\n                <template v-else>\n                  <template v-if=\"task.isDisable\">\n                    <div>\n                      <i class=\"fa fa-times-circle-o h1 text-gray\" aria-hidden=\"true\"></i>\n                    </div>\n                  </template>\n                  <template v-else-if=\"task.status === 'ip'\">\n                    <div>\n                      <i :class=\"['fa fa-circle-o h4']\" aria-hidden=\"true\"></i>\n                    </div>\n                    <div>{{GET_DATE(task.dateStart)}}</div>\n                    <div>กำลังดำเนินงาน..</div>\n                  </template>\n                  <template v-else-if=\"task.status === 'wait'\">\n                    <div>\n                      <i class=\"fa fa fa-clock-o h1 text-gray\" aria-hidden=\"true\"></i>\n                    </div>\n                  </template>\n                  <template v-else-if=\"task.status === 'done'\">\n                    <div>\n                      <i :class=\"['fa fa-check-circle h4 text-success']\" aria-hidden=\"true\"></i>\n                    </div>\n                    <div>{{GET_DATE(task.dateStart)}}</div>\n                    <div>{{GET_DATE(task.dateEnd)}}</div>\n                  </template>\n                </template>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { bus } from '@/main'\nimport config from '@Config/app.config'\nimport service from '@Services/app.service'\nimport Helper from '@Libraries/common.helpers'\nexport default {\n  props: {\n    // mode: {\n    //   type: String,\n    //   required: true\n    // }\n  },\n  components: {},\n  name: 'SchedulePage',\n  data () {\n    return {\n      local: {\n        products: [],\n        currentProductObj: [],\n        rows: 0,\n        time: 0,\n        currentPage: 1,\n        timer: null,\n        pageCount: 0,\n        isPause: false\n        // start: 0,\n        // end: 0\n      },\n      tmp: {\n        productStore: [],\n      }\n    }\n  },\n  computed: {\n    products () {\n      return this.local.products\n    },\n    totalProducts () {\n      return this.local.currentProductObj.length\n    },\n    pageCount () {\n      return Math.ceil(this.totalProducts / this.local.rows)\n    }\n  },\n  created () {\n    bus.$on('reloadSchedule', this.fetchData)\n    this.fetchData(true)\n  },\n  methods: {\n    async fetchData (runSchedule = false) {\n      // console.log(self.local.pageCount)\n      let resourceName = `${config.api.schedule.index}`\n      try {\n        let res = await service.getResource({ resourceName, queryString: [] })\n        // console.log(res.data.result)\n        this.local.rows = res.data.config.rows\n        this.local.time = parseInt(res.data.config.time)\n        this.tmp.productStore = Helper.COPY_OBJECT(res.data.result)\n        // console.log(this.tmp.productStore)\n        if (runSchedule) {\n          this.runSchedule()\n        }\n      } catch (error) {\n        // this.GO_TOPAGE('Product')\n      }\n    },\n    runSchedule () {\n      let self = this\n      this.recheckProductLists()\n      // this.local.pageCount = this.pageCount\n      this.local.products = this.local.currentProductObj.slice(0, this.local.rows)\n      this.local.timer = setInterval( function() {\n        if (!self.local.isPause) {\n          self.local.currentPage = parseInt(self.local.currentPage) + 1\n          // console.log(self.pageCount)\n          if (self.pageCount < self.local.currentPage) {\n            self.local.currentPage = 1\n          }\n          if (self.local.currentPage === 1) {\n            self.recheckProductLists()\n            self.local.start = 0\n          } else if (self.local.currentPage === 2) {\n            self.local.start = self.local.rows\n          } else {\n            self.local.start = self.local.end\n          }\n          self.local.end = self.local.start + self.local.rows\n          // console.log('start ' + self.local.start)\n          // console.log('end ' + self.local.end)\n          self.local.products = self.local.currentProductObj.slice(self.local.start, self.local.end)\n        }\n      }, this.local.time)\n    },\n    recheckProductLists () {\n      // console.log('recheckProductLists')\n      this.local.currentProductObj = Helper.COPY_OBJECT(this.tmp.productStore)\n    },\n    addProductEvent () {\n\n    },\n    removeProductEvent () {\n      \n    },\n    stopRunnigSchedule () {\n      clearInterval(this.local.timer)\n    },\n    getItemClass (obj, task) {\n      return [\n        'text-center',\n        { 'item-name': task.key === 'itemName' },\n        { 'bg-success': task.key === 'itemName' && obj.header.status === 'review' },\n        { 'bg-error': (task.key === 'itemName' && this.IS_LATE(task.dateEnd) && obj.header.status !== 'review') },\n        { 'bg-gray': task.isDisable },\n        { '': (task.status === 'wait' && !task.isDisable) }\n      ]\n    },\n    switchStatus (status) {\n      this.local.isPause = status\n    }\n  },\n  beforeDestroy () {\n    bus.$off('reloadSchedule', this.fetchData)\n    this.stopRunnigSchedule()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.fa-sign-out{\n  // transform: rotate(180deg);\n}\n.table{\n  // tr.disable{\n  //   background: #f0f1f4;\n  // }\n  td.item-name{\n    padding: 0px;\n    div{\n      width: 100%;\n    }\n  }\n  td.bg-dark, td.bg-gray{\n    opacity: 0.3;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=dbe60252&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=dbe60252&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dbe60252\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=dbe60252&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=dbe60252&lang=scss&scoped=true&\""],"sourceRoot":""}